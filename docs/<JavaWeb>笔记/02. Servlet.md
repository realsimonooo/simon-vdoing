---
title:  Servlet
date: 2021-03-18 16:25:40
permalink: /pages/8a5338/
categories: 
  - <JavaWeb>ç¬”è®°
---

# 02. Servlet



## ç¬¬ä¸€ä¸ªServletç¨‹åº

ç›¸å…³é˜…è¯»ï¼š<ğŸ˜…é‚£äº›æˆ‘åœ¨IDEA+tomcatä¸Šé…ç½®ç¬¬ä¸€ä¸ªServletç¨‹åºæ—¶è¸©è¿‡çš„å‘>

```java
package com.hello;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;

public class testServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    }

    /**
     * é‡æ–°å®šä¹‰doGet
     * @param request
     * @param response
     * @throws ServletException
     * @throws IOException
     */
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        response.setContentType("text/html;charset=UTF-8"); // è®¾å®šå“åº”å†…å®¹ç±»å‹

        String name = request.getParameter("name"); // è¯·æ±‚è·å¾—å‚æ•°
        PrintWriter out = response.getWriter(); // å–å¾—ç›¸åº”è¾“å‡ºå¯¹è±¡
        out.print("<!DOCTYPE html>");
        out.print("<html>");
        out.print("<head>");
        out.print("<title>Hello</title>");
        out.print("</head>");
        out.print("<body>");
        out.printf("<h1> Hello! %s!%n</h1>" , name);
        out.print("</body>");
        out.print("</html>");
    }
}
```





## åˆå§‹åŒ–Servletçš„ä¸¤ç§æ–¹æ³•

1. `@WebServlet` æ³¨é‡Šæ³•

   ```java
   @WebServlet(name="****",urlPatterns={"****"})
   @WebServlet(name="helloServlet",urlPatterns={"/hello"})
   ```

   `urlPatterns`å¯¹åº”æ˜ å°„æ¨¡å¼è®¿é—®åœ°å€ï¼š`localhost:8080/ex03/hello` 

   

2. é…ç½®æ–‡ä»¶`web.xml`

```xml
<web-app>  
    <servlet>           
     <servlet-name>Servlet</servlet-name>          
    <servlet-class>com.hello.Servlet</servlet-class> 
    </servlet>
    <servlet-mapping>           
        <servlet-name>Servlet</servlet-name>
        <url-pattern>/hello</url-pattern>
    </servlet-mapping>
</web-app>
```



+ `@WebServlet`ä¸­çš„`name`å¯¹åº”`web.xml`ä¸­çš„`<servlet-name>`ï¼Œå½“åç§°ç›¸åŒï¼Œ`web.xml`ä¼šè¦†ç›–`@WebServlet`ä¸­çš„å‚æ•°


## Servletç”Ÿå‘½å‘¨æœŸ

 ![image-20210317151653351](https://cdn.jsdelivr.net/gh/realsimonooo/image-repo@master/blog/kEQxxE.png)

+ `init()` ç¬¬ä¸€æ¬¡è¢«è¯·æ±‚åŠ è½½æ—¶ï¼Œå®Œæˆåˆå§‹åŒ–å·¥ä½œï¼Œä¼ é€’Webåº”ç”¨ç¨‹åº(`web.xml`)çš„é…ç½®ä¿¡æ¯ï¼›

+ `service()`æ–¹æ³•ï¼šå“åº”**å®¢æˆ·çš„è¯·æ±‚**ï¼›

  + æ ¹æ®`service`çš„å®šä¹‰åˆ¤æ–­HTTPçš„è¯·æ±‚æ–¹å¼ï¼Œåˆ†åˆ«è°ƒç”¨`doGet()`,`doPost()`ç­‰æ–¹æ³•ï¼›

    > `service()`å¯¹**è¯·æ±‚æ–¹æ³•çš„é¡ºåº**ï¼š
    >
    > 1. `doGet()`
    > 2. `doHead()`
    > 3. `doPost()`
    > 4. `doPut()`

  + `doGet()`,`doPost()`æ–¹æ³•ç›´æ¥ç»§æ‰¿`service()`æ–¹æ³•ï¼š

    é€šè¿‡é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•æ¥å“åº”ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¢å¼ºå“åº”çš„çµæ´»æ€§ï¼Œé™ä½æœåŠ¡å™¨è´Ÿæ‹…ï¼›

+ `destroy()`æ–¹æ³•ï¼šå½“ä¸€ä¸ªServletå®ä¾‹åº”è¯¥ä»æœåŠ¡å™¨ä¸­ç§»é™¤æ—¶ä½¿ç”¨ï¼Œé‡Šæ”¾å…¶ä½¿ç”¨çš„èµ„æºã€‚

![image-20210317153711295](https://cdn.jsdelivr.net/gh/realsimonooo/image-repo@master/blog/jfmMXH.png)

## Servletè¯·æ±‚çš„åˆ†å‘








## Webåº”ç”¨çš„æ–‡ä»¶ç»“æ„

```
\[webåº”ç”¨åç§°]ï¼šwebåº”ç”¨ç¨‹åºçš„æ‰€æœ‰æ–‡ä»¶
\[webåº”ç”¨åç§°]\WEB-INF:éƒ¨ç½²æè¿°ç¬¦æ–‡ä»¶web.xmlåŠä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶å¤¹
	\[webåº”ç”¨åç§°]\WEB-INF\classes:å­˜æ”¾Servletå’ŒjavaBeanç›¸å…³çš„ç±»æ–‡ä»¶
	\[webåº”ç”¨åç§°]\WEB-INF\lib:æ‰€éœ€çš„ç±»åŒ…(JARæ–‡ä»¶)
	\[webåº”ç”¨åç§°]\WEB-INF\tags:æ ‡ç­¾æ–‡ä»¶
	\[webåº”ç”¨åç§°]\WEB-INF\web.xml:webåº”ç”¨ç¨‹åºçš„é…ç½®å’Œéƒ¨ç½²ä¿¡æ¯
```